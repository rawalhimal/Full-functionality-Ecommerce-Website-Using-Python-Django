{% extends 'base.html'%}
{%block titile%}Home{%endblock%}
{%block content%}
<div class="container">
    <h3 class="text-center">Welcome to Mountain Shop</h3>
    <hr>
    <div class="row mt-4">
        {%for p in product_list%}
        <div class="col-md-4 card" style="border: 1px solid rgb(221, 220, 220);" >
                <div class="m-3">
            <h5><a href="{% url 'ecomapp:productdetail' p.slug %}">{{p.title}}</a></h5>
            <img src="{{p.image.url}}" class="img-fluid" style="height:200px;object-fit:contain">
           <p class="mt-3">Price<strike>Rs.{{p.marked_price}}</strike> Rs.{{p.selling_price}}</p>
           <a href="{%url 'ecomapp:addtocart' p.id %}" class="btn btn-primary">Add to Cart</a>
            </div>
        </div>
            {%endfor%}
    </div>
    <hr>
    <!-- boostrap pagination-->
    <nav aria-label="...">
        <ul class="pagination">
            {% if product_list.has_previous %}
          <li class="page-item ">
            <a class="page-link" href="?page={{ product_list.previous_page_number }}" tabindex="-1" aria-disabled="true">Previous</a>
          </li>
          {%else%}
          <li class="page-item disabled">
            <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
          </li>
          {%endif%}
         
          {%for i in product_list.paginator.page_range%}
          {%if i == product_list.number%}
          <li class="page-item active"><a class="page-link" >{{i}}</a></li>
          {%else%}
          <li class="page-item"><a class="page-link" href="?page={{ i }}">{{i}}</a></li>
          {%endif%}
          {%endfor%}
          
          {% if product_list.has_next %}
          <li class="page-item">
            <a class="page-link" href="?page={{ product_list.next_page_number }}">Next</a>
          </li>
          {%else%}
          <li class="page-item disabled">
            <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Next</a>
          </li>
          {% endif %}
        </ul>
      </nav>
</div>
{%endblock%}